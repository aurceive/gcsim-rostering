# Configuration example for wfpsim_discord_archiver application.
# Place the actual config in input/wfpsim_discord_archiver/config.yaml (it won't be committed to git).

# Optional: enable strict character alias resolution (used to correctly read constellations from config_file).
# If either `engine` or `enginePath` is set, the app will:
# - load aliases from <engineRoot>/pkg/shortcut/characters.go
# - error out if aliases can't be loaded or if a character/cons can't be resolved
#
# Use one of:
# engine: wfpsim
# OR
# enginePath: C:/absolute/path/to/engine/root
#
engine: wfpsim
# enginePath: C:/Users/you/Git/gcsim-rostering/engines/wfpsim

discord:
  token: DISCORD_TOKEN # DO NOT COMMIT ACTUAL TOKEN
  # For guildSearch mode, specify one or more servers (guilds).
  serverIds:
    - 123456789012345678
    - 987654321098765432
  # Nessessary for channelHistory mode; optional for guildSearch mode.
  channelIds:
    - 111111111111111111
    - 222222222222222222

appsScript:
  webAppUrl: https://script.google.com/macros/s/DEPLOYMENT_ID/exec
  apiKey: APPS_SCRIPT_API_KEY # DO NOT COMMIT ACTUAL KEY

sheet:
  # SPREADSHEET_ID is the Google Sheets document id.
  # Take it from the URL:
  # https://docs.google.com/spreadsheets/d/<SPREADSHEET_ID>/edit#gid=...
  id: SPREADSHEET_ID
  # Sheet tab name (not the document title). This tab will be created if missing.
  name: wfpsim

run:
  # channelHistory (default) | guildSearch (experimental; may be blocked for bot tokens)
  mode: channelHistory
  # mode: guildSearch
  sinceDays: 3
  # stateFile: work/wfpsim_discord_archiver/state.json
  # Ignore channel/guild checkpoints (scan the whole sinceDays window),
  # but still use/save processedKeys to avoid refetching the same shares.
  ignoreStateCheckpoint: false
  dryRun: true
  # dryRun: false
